{"version":3,"file":"static/js/app.a7580b61.chunk.js","mappings":"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","sources":["D2App/i18n.js","D2App/locales/index.js","D2App/configI18n.js","D2App/styles.js","D2App/utils/feedbackSnackBarTypes.js","D2App/utils/pagination.js","D2App/pages/Translations/ConfirmationDialog.js","D2App/pages/Translations/translations.conf.js","D2App/pages/Translations/TranslationCard.style.js","D2App/pages/Translations/TranslationCard.js","D2App/pages/Translations/TranslationsList.style.js","D2App/pages/Translations/TranslationsList.js","D2App/pages/Translations/TranslationsSearch.style.js","D2App/pages/Translations/TranslationsSearch.js","D2App/pages/Translations/index.js","D2App/components/App.js","D2App/App.js"],"sourcesContent":["export const i18nKeys = {\n  searchToolbar: {\n    selects: {\n      objects: {\n        label: 'Object'\n      },\n      locales: {\n        label: 'Target locale'\n      },\n      filterBy: {\n        label: 'Filter by',\n        all: 'All',\n        translated: 'Translated',\n        untranslated: 'Untranslated',\n        partialTranslated: 'Partial translated'\n      }\n    },\n    searchTextField: {\n      label: 'Search'\n    }\n  },\n  translationForm: {\n    name: 'Name',\n    shortName: 'Short name',\n    description: 'Description',\n    formName: 'Form name',\n    numeratorDescription: 'Numerator description',\n    denominatorDescription: 'Denominator description',\n    fromToName: 'From to name',\n    toFromName: 'To from name',\n    instruction: 'Instruction',\n    incidentDateLabel: 'Incident date label',\n    enrollmentDateLabel: 'Enrollment date label',\n    executionDateLabel: 'Execution date label',\n    dueDateLabel: 'Due date label',\n    content: 'Content',\n    actionButton: {\n      label: 'Save'\n    },\n    domainAxisLabel: 'Domain axis label',\n    rangeAxisLabel: 'Range axis label',\n    targetLineLabel: 'Target line label',\n    subtitle: 'Subtitle',\n    title: 'Title',\n    baseLineLabel: 'Base line label',\n    subjectTemplate: 'Subject template',\n    messageTemplate: 'Message template'\n  },\n  messages: {\n    unsavedChanges: 'Changes on object will be lost if you do not save them first.',\n    unexpectedError: 'Unexpected Error',\n    translationsSaved: 'Translations were saved',\n    invalidForm: 'A locale and object must be selected'\n  },\n  btns: {\n    keepEditing: 'Keep editing',\n    discard: 'Discard changes'\n  },\n  unsavedChangesTitle: 'Unsaved changes',\n  d2UiComponents: {\n    settings: 'Settings',\n    app_search_placeholder: 'Search apps',\n    profile: 'Profile',\n    account: 'Account',\n    help: 'Help',\n    log_out: 'Log out',\n    about_dhis2: 'About DHIS 2',\n    manage_my_apps: 'Manage my apps',\n    no_results_found: 'No results found',\n    interpretations: 'Interpretations',\n    messages: 'Messages'\n  }\n};\nexport default i18nKeys;","//------------------------------------------------------------------------------\n// <auto-generated>\n// This code was generated by d2-i18n-generate.\n//\n// Changes to this file may cause incorrect behavior and will be lost if\n// the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\nimport i18n from '@dhis2/d2-i18n';\nimport arTranslations from './ar/translations.json';\nimport ar_IQTranslations from './ar_IQ/translations.json';\nimport bnTranslations from './bn/translations.json';\nimport ckbTranslations from './ckb/translations.json';\nimport csTranslations from './cs/translations.json';\nimport daTranslations from './da/translations.json';\nimport enTranslations from './en/translations.json';\nimport esTranslations from './es/translations.json';\nimport es_419Translations from './es_419/translations.json';\nimport frTranslations from './fr/translations.json';\nimport idTranslations from './id/translations.json';\nimport kmTranslations from './km/translations.json';\nimport loTranslations from './lo/translations.json';\nimport myTranslations from './my/translations.json';\nimport nbTranslations from './nb/translations.json';\nimport neTranslations from './ne/translations.json';\nimport nlTranslations from './nl/translations.json';\nimport orTranslations from './or/translations.json';\nimport prsTranslations from './prs/translations.json';\nimport psTranslations from './ps/translations.json';\nimport ptTranslations from './pt/translations.json';\nimport pt_BRTranslations from './pt_BR/translations.json';\nimport roTranslations from './ro/translations.json';\nimport ruTranslations from './ru/translations.json';\nimport siTranslations from './si/translations.json';\nimport svTranslations from './sv/translations.json';\nimport tetTranslations from './tet/translations.json';\nimport tgTranslations from './tg/translations.json';\nimport ukTranslations from './uk/translations.json';\nimport urTranslations from './ur/translations.json';\nimport uz_CyrlTranslations from './uz_Cyrl/translations.json';\nimport uz_LatnTranslations from './uz_Latn/translations.json';\nimport uz_UZ_CyrlTranslations from './uz_UZ_Cyrl/translations.json';\nimport uz_UZ_LatnTranslations from './uz_UZ_Latn/translations.json';\nimport viTranslations from './vi/translations.json';\nimport zhTranslations from './zh/translations.json';\nimport zh_CNTranslations from './zh_CN/translations.json';\nconst namespace = 'default';\ni18n.addResources('ar', namespace, arTranslations);\ni18n.addResources('ar_IQ', namespace, ar_IQTranslations);\ni18n.addResources('bn', namespace, bnTranslations);\ni18n.addResources('ckb', namespace, ckbTranslations);\ni18n.addResources('cs', namespace, csTranslations);\ni18n.addResources('da', namespace, daTranslations);\ni18n.addResources('en', namespace, enTranslations);\ni18n.addResources('es', namespace, esTranslations);\ni18n.addResources('es_419', namespace, es_419Translations);\ni18n.addResources('fr', namespace, frTranslations);\ni18n.addResources('id', namespace, idTranslations);\ni18n.addResources('km', namespace, kmTranslations);\ni18n.addResources('lo', namespace, loTranslations);\ni18n.addResources('my', namespace, myTranslations);\ni18n.addResources('nb', namespace, nbTranslations);\ni18n.addResources('ne', namespace, neTranslations);\ni18n.addResources('nl', namespace, nlTranslations);\ni18n.addResources('or', namespace, orTranslations);\ni18n.addResources('prs', namespace, prsTranslations);\ni18n.addResources('ps', namespace, psTranslations);\ni18n.addResources('pt', namespace, ptTranslations);\ni18n.addResources('pt_BR', namespace, pt_BRTranslations);\ni18n.addResources('ro', namespace, roTranslations);\ni18n.addResources('ru', namespace, ruTranslations);\ni18n.addResources('si', namespace, siTranslations);\ni18n.addResources('sv', namespace, svTranslations);\ni18n.addResources('tet', namespace, tetTranslations);\ni18n.addResources('tg', namespace, tgTranslations);\ni18n.addResources('uk', namespace, ukTranslations);\ni18n.addResources('ur', namespace, urTranslations);\ni18n.addResources('uz_Cyrl', namespace, uz_CyrlTranslations);\ni18n.addResources('uz_Latn', namespace, uz_LatnTranslations);\ni18n.addResources('uz_UZ_Cyrl', namespace, uz_UZ_CyrlTranslations);\ni18n.addResources('uz_UZ_Latn', namespace, uz_UZ_LatnTranslations);\ni18n.addResources('vi', namespace, viTranslations);\ni18n.addResources('zh', namespace, zhTranslations);\ni18n.addResources('zh_CN', namespace, zh_CNTranslations);\nexport default i18n;","import { i18nKeys } from './i18n.js';\nimport i18n from './locales/index.js';\nexport const DEFAULT_LOCALE = {\n  id: 'en',\n  name: 'English'\n};\nconst isLangRTL = code => {\n  const langs = ['ar', 'fa', 'ur'];\n  const prefixed = langs.map(c => `${c}-`);\n  return langs.includes(code) || prefixed.filter(c => code.startsWith(c)).length > 0;\n};\nexport const configI18n = userSettings => {\n  const lang = userSettings.keyUiLocale || DEFAULT_LOCALE.id;\n  if (isLangRTL(lang)) {\n    document.body.setAttribute('dir', 'rtl');\n  }\n  i18n.changeLanguage(lang);\n};\nexport const injectTranslationsToD2 = d2 => {\n  if (d2) {\n    const translations = {};\n    const translationKeys = Object.keys(i18nKeys.d2UiComponents);\n    for (let i = 0; i < translationKeys.length; i++) {\n      const key = translationKeys[i];\n      translations[key] = i18n.t(i18nKeys.d2UiComponents[key]);\n    }\n    Object.assign(d2.i18n.translations, translations);\n  }\n};\nexport default configI18n;","export const MAX_WIDTH = 1400;\nexport const LATERAL_PADDING_FOR_MAIN_CONTAINERS = 20;\nconst styles = {\n  contentArea: {\n    maxWidth: MAX_WIDTH\n  },\n  feedbackSnackBar: {\n    position: 'fixed',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    zIndex: 3000 // over dialog\n  },\n  formControl: {\n    paddingRight: 10\n  },\n  cardContainer: {\n    outline: 'none',\n    paddingLeft: 10,\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingRight: 10,\n    marginBottom: 20\n  },\n  actionBtns: {\n    marginLeft: 10\n  }\n};\nexport default styles;","export const ACTION_MESSAGE = 'ACTION_MESSAGE';\nexport const ERROR = 'ERROR';\nexport const LOADING = 'LOADING';\nexport const SUCCESS = 'SUCCESS';\nexport const NONE = 'NONE';","export const calculatePageValue = pager => {\n  const pageSize = pager.pageSize;\n  const {\n    total,\n    pageCount,\n    page\n  } = pager;\n  const pageCalculationValue = total - (total - (pageCount - (pageCount - page)) * pageSize);\n  const startItem = pageCalculationValue - pageSize + 1;\n  const endItem = pageCalculationValue;\n  return `${startItem} - ${endItem > total ? total : endItem}`;\n};\nexport const filterElementsToPager = (elements, _ref) => {\n  let {\n    page,\n    pageSize\n  } = _ref;\n  const pageElements = elements.slice((page - 1) * pageSize, page * pageSize);\n\n  /* first element of the page is open */\n  /* FIXME I have the feeling this is not the right place for this -- this a UI issue */\n  if (pageElements && pageElements.length) {\n    pageElements[0].open = true;\n  }\n  return pageElements;\n};\nexport const hasNextPage = pager => () => pager.page < pager.pageCount;\nexport const hasPreviousPage = pager => () => pager.page > 1;","import { Button } from '@dhis2/d2-ui-core';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { i18nKeys } from '../../i18n.js';\nimport i18n from '../../locales/index.js';\nimport styles from '../../styles.js';\nconst ConfirmationDialog = props => {\n  const keepEditing = () => {\n    props.closeConfirmation(false);\n  };\n  const discard = () => {\n    props.closeConfirmation(true);\n  };\n  const StyledDialog = withStyles({\n    root: {\n      margin: 8\n    }\n  })(DialogActions);\n  return /*#__PURE__*/React.createElement(Dialog, {\n    open: props.open\n  }, /*#__PURE__*/React.createElement(DialogTitle, null, i18n.t(i18nKeys.unsavedChangesTitle)), /*#__PURE__*/React.createElement(DialogContent, null, /*#__PURE__*/React.createElement(DialogContentText, null, i18n.t(i18nKeys.messages.unsavedChanges))), /*#__PURE__*/React.createElement(StyledDialog, null, /*#__PURE__*/React.createElement(\"span\", {\n    id: 'keep-editing-btn-id'\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: styles.actionBtns,\n    onClick: keepEditing\n  }, i18n.t(i18nKeys.btns.keepEditing))), /*#__PURE__*/React.createElement(\"span\", {\n    id: 'discard-changes-btn-id'\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: styles.actionBtns,\n    raised: true,\n    color: \"primary\",\n    onClick: discard,\n    autoFocus: true\n  }, i18n.t(i18nKeys.btns.discard)))));\n};\nConfirmationDialog.propTypes = {\n  closeConfirmation: PropTypes.func.isRequired,\n  open: PropTypes.bool.isRequired\n};\nexport default ConfirmationDialog;","/* i18n */\nimport { DEFAULT_LOCALE } from '../../configI18n.js';\nimport { i18nKeys } from '../../i18n.js';\nimport i18n from '../../locales/index.js';\n\n/* API Endpoints */\nexport const LANGUAGES_API_URL = '/locales/db?paging=false';\n\n/* Constants for Filter By Select */\nexport const ALL_ID = 'ALL';\nexport const TRANSLATED_ID = 'TRANSLATED';\nexport const UNTRANSLATED_ID = 'UNTRANSLATED';\nexport const PARTIAL_TRANSLATED_ID = 'PARTIAL_TRANSLATED';\nexport const ALL_ITEM = {\n  id: ALL_ID,\n  name: i18n.t(i18nKeys.searchToolbar.selects.filterBy.all)\n};\nexport const TRANSLATED_ITEM = {\n  id: TRANSLATED_ID,\n  name: i18n.t(i18nKeys.searchToolbar.selects.filterBy.translated)\n};\nexport const UNTRANSLATED_ITEM = {\n  id: UNTRANSLATED_ID,\n  name: i18n.t(i18nKeys.searchToolbar.selects.filterBy.untranslated)\n};\nexport const PARTIAL_TRANSLATED_ITEM = {\n  id: PARTIAL_TRANSLATED_ID,\n  name: i18n.t(i18nKeys.searchToolbar.selects.filterBy.partialTranslated)\n};\nexport const FILTER_BY_ITEMS = [ALL_ITEM, TRANSLATED_ITEM, PARTIAL_TRANSLATED_ITEM, UNTRANSLATED_ITEM];\nexport const DEFAULT_TRANSLATABLE_PROPERTIES = [{\n  name: 'name',\n  translationKey: 'NAME'\n}, {\n  name: 'shortName',\n  translationKey: 'SHORT_NAME'\n}, {\n  name: 'description',\n  translationKey: 'DESCRIPTION'\n}, {\n  name: 'formName',\n  translationKey: 'FORM_NAME'\n}];\nexport const INITIAL_LOCALES = [DEFAULT_LOCALE];\nexport const INITIAL_PAGER = {\n  pageSize: 5,\n  page: 1,\n  total: 0,\n  pageCount: 1\n};","import { TRANSLATED_ID, UNTRANSLATED_ID, PARTIAL_TRANSLATED_ID } from './translations.conf.js';\nexport const colors = {\n  [TRANSLATED_ID]: '#1c9d17',\n  [UNTRANSLATED_ID]: '#000000',\n  [PARTIAL_TRANSLATED_ID]: '#ff9800'\n};\nconst styles = {\n  actionsContainer: {\n    paddingTop: 20,\n    paddingBottom: 20\n  },\n  header: {\n    cursor: 'pointer',\n    textTransform: 'uppercase'\n  },\n  icon: {\n    textAlign: 'right'\n  }\n};\nexport default styles;","import { Button } from '@dhis2/d2-ui-core';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport Done from '@material-ui/icons/Done';\nimport PropTypes from 'prop-types';\nimport React, { Fragment } from 'react';\nimport { i18nKeys } from '../../i18n.js';\nimport i18n from '../../locales/index.js';\nimport styles from '../../styles.js';\nimport translationCardStyles, { colors } from './TranslationCard.style.js';\nimport { TRANSLATED_ID } from './translations.conf.js';\nconst translationValueOfObjectForLocaleAndTranslationKey = (object, localeId, translationKey) => {\n  const selectedTranslation = object.translations.find(translation => translation.locale === localeId && translation.property === translationKey);\n  return selectedTranslation ? selectedTranslation.value : '';\n};\nconst TranslationCard = props => {\n  const {\n    onChangeTranslationForObjectAndLocale,\n    hasUnsavedChanges\n  } = props;\n  const onChange = translationKey => event => {\n    onChangeTranslationForObjectAndLocale({\n      objectId: props.object.id,\n      localeId: props.localeId,\n      translationKey,\n      value: event.target.value\n    });\n  };\n  const checkSave = () => !hasUnsavedChanges();\n  const getState = () => hasUnsavedChanges() ? hasUnsavedChanges().originalState : props.object.translationState;\n  const headerStyle = () => {\n    return {\n      ...translationCardStyles.header,\n      color: colors[getState()]\n    };\n  };\n  const saveTranslationsOnKeyPress = event => {\n    if (event.key === 'Enter' && event.ctrlKey && !checkSave()) {\n      props.saveTranslations();\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"dhis2-translations-item\"\n  }, /*#__PURE__*/React.createElement(Paper, {\n    tabIndex: 0,\n    onFocus: props.openCard,\n    style: styles.cardContainer\n  }, /*#__PURE__*/React.createElement(Grid, {\n    style: headerStyle(),\n    onClick: props.openCardOnClick,\n    container: true,\n    alignItems: \"center\"\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6\n  }, /*#__PURE__*/React.createElement(\"h3\", null, props.object[props.cardTitleProperty])), /*#__PURE__*/React.createElement(Grid, {\n    style: translationCardStyles.icon,\n    item: true,\n    xs: 6\n  }, getState() === TRANSLATED_ID && /*#__PURE__*/React.createElement(Done, {\n    style: translationCardStyles.translated\n  }))), props.open && /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    container: true\n  }, props.translatableProperties.map((property, index) => {\n    var _i18nKeys$translation;\n    return /*#__PURE__*/React.createElement(Grid, {\n      key: property.name,\n      id: property.name,\n      item: true,\n      xs: 12,\n      md: props.translatableProperties.length === 1 ? 12 : 6,\n      style: styles.formControl\n    }, /*#__PURE__*/React.createElement(TextField, {\n      autoFocus: index === 0,\n      fullWidth: true,\n      value: translationValueOfObjectForLocaleAndTranslationKey(props.object, props.localeId, property.translationKey),\n      type: \"text\",\n      label: i18n.t((_i18nKeys$translation = i18nKeys.translationForm[property.name]) !== null && _i18nKeys$translation !== void 0 ? _i18nKeys$translation : property.name),\n      onChange: onChange(property.translationKey),\n      onKeyDown: saveTranslationsOnKeyPress,\n      onClick: props.clearFeedback,\n      onBlur: props.clearFeedback\n    }));\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    \"data-test\": \"dhis2-translations-save-btn\",\n    style: translationCardStyles.actionsContainer\n  }, /*#__PURE__*/React.createElement(Button, {\n    raised: true,\n    color: \"primary\",\n    onClick: props.saveTranslations,\n    disabled: checkSave()\n  }, i18n.t(i18nKeys.translationForm.actionButton.label))))));\n};\nTranslationCard.propTypes = {\n  cardTitleProperty: PropTypes.string.isRequired,\n  clearFeedback: PropTypes.func.isRequired,\n  hasUnsavedChanges: PropTypes.func.isRequired,\n  localeId: PropTypes.string.isRequired,\n  object: PropTypes.shape({\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    translationState: PropTypes.string.isRequired,\n    translations: PropTypes.arrayOf(PropTypes.shape({\n      locale: PropTypes.string.isRequired,\n      property: PropTypes.string.isRequired,\n      value: PropTypes.string.isRequired\n    })).isRequired\n  }).isRequired,\n  openCard: PropTypes.func.isRequired,\n  openCardOnClick: PropTypes.func.isRequired,\n  saveTranslations: PropTypes.func.isRequired,\n  translatableProperties: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    translationKey: PropTypes.string.isRequired\n  })).isRequired,\n  onChangeTranslationForObjectAndLocale: PropTypes.func.isRequired,\n  open: PropTypes.bool\n};\nTranslationCard.defaultProps = {\n  open: false,\n  hasUnsavedChanges: () => false\n};\nexport default TranslationCard;","import { LATERAL_PADDING_FOR_MAIN_CONTAINERS } from '../../styles.js';\nconst styles = {\n  container: {\n    paddingLeft: LATERAL_PADDING_FOR_MAIN_CONTAINERS,\n    paddingRight: LATERAL_PADDING_FOR_MAIN_CONTAINERS\n  },\n  noResultsContainer: {\n    marginTop: 20,\n    paddingLeft: LATERAL_PADDING_FOR_MAIN_CONTAINERS,\n    paddingRight: LATERAL_PADDING_FOR_MAIN_CONTAINERS\n  },\n  pagination: {\n    textAlign: 'right'\n  }\n};\nexport default styles;","import { Pagination } from '@dhis2/d2-ui-core';\nimport Paper from '@material-ui/core/Paper';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport '@dhis2/d2-ui-core/build/css/Pagination.css';\nimport styles from '../../styles.js';\nimport * as PAGINATION_HELPER from '../../utils/pagination.js';\nimport TranslationCard from './TranslationCard.js';\nimport { DEFAULT_TRANSLATABLE_PROPERTIES } from './translations.conf.js';\nimport translationsListStyles from './TranslationsList.style.js';\nconst PaginationBuilder = (pager, goToNextPage, goToPreviousPage) => /*#__PURE__*/React.createElement(\"div\", {\n  \"data-test\": \"dhis2-translations-pagination\"\n}, /*#__PURE__*/React.createElement(Pagination, {\n  total: pager.total,\n  hasNextPage: PAGINATION_HELPER.hasNextPage(pager),\n  hasPreviousPage: PAGINATION_HELPER.hasPreviousPage(pager),\n  onNextPageClick: goToNextPage,\n  onPreviousPageClick: goToPreviousPage,\n  currentlyShown: PAGINATION_HELPER.calculatePageValue(pager)\n}));\nexport const NoResults = () => /*#__PURE__*/React.createElement(\"div\", {\n  style: translationsListStyles.noResultsContainer\n}, /*#__PURE__*/React.createElement(Paper, {\n  style: styles.cardContainer\n}, \"No Results\"));\nconst TranslationsList = props => props.objects && props.objects.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n  id: 'translation-list-container',\n  style: translationsListStyles.container\n}, PaginationBuilder(props.pager, props.goToNextPage, props.goToPreviousPage), props.objects.map(object => /*#__PURE__*/React.createElement(TranslationCard, {\n  key: object.id,\n  open: object.open,\n  hasUnsavedChanges: props.hasUnsavedChanges(object.id),\n  localeId: props.localeId,\n  object: object,\n  translatableProperties: props.translatableProperties,\n  onChangeTranslationForObjectAndLocale: props.onChangeTranslationForObjectAndLocale,\n  saveTranslations: props.saveTranslations(object.id),\n  openCard: props.openCard(object.id),\n  openCardOnClick: props.openCardOnClick(object.id),\n  clearFeedback: props.clearFeedback,\n  cardTitleProperty: props.cardTitleProperty\n})), PaginationBuilder(props.pager, props.goToNextPage, props.goToPreviousPage)) : /*#__PURE__*/React.createElement(NoResults, null);\nTranslationsList.propTypes = {\n  cardTitleProperty: PropTypes.string.isRequired,\n  clearFeedback: PropTypes.func.isRequired,\n  goToNextPage: PropTypes.func.isRequired,\n  goToPreviousPage: PropTypes.func.isRequired,\n  hasUnsavedChanges: PropTypes.func.isRequired,\n  localeId: PropTypes.string.isRequired,\n  objects: PropTypes.arrayOf(PropTypes.shape({\n    displayName: PropTypes.string.isRequired,\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    translationState: PropTypes.string.isRequired,\n    translations: PropTypes.arrayOf(PropTypes.shape({\n      locale: PropTypes.string.isRequired,\n      property: PropTypes.string.isRequired,\n      value: PropTypes.string.isRequired\n    })).isRequired\n  })).isRequired,\n  openCard: PropTypes.func.isRequired,\n  openCardOnClick: PropTypes.func.isRequired,\n  pager: PropTypes.shape({\n    page: PropTypes.number.isRequired,\n    pageCount: PropTypes.number.isRequired,\n    pageSize: PropTypes.number.isRequired,\n    total: PropTypes.number.isRequired\n  }).isRequired,\n  saveTranslations: PropTypes.func.isRequired,\n  onChangeTranslationForObjectAndLocale: PropTypes.func.isRequired,\n  translatableProperties: PropTypes.arrayOf(PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    translationKey: PropTypes.string.isRequired\n  }))\n};\nTranslationsList.defaultProps = {\n  translatableProperties: DEFAULT_TRANSLATABLE_PROPERTIES\n};\nexport default TranslationsList;","import { LATERAL_PADDING_FOR_MAIN_CONTAINERS } from '../../styles.js';\nconst styles = {\n  container: {\n    paddingLeft: LATERAL_PADDING_FOR_MAIN_CONTAINERS,\n    paddingRight: LATERAL_PADDING_FOR_MAIN_CONTAINERS,\n    paddingTop: 20,\n    paddingBottom: 20,\n    backgroundColor: '#e8e8e8'\n  }\n};\nexport default styles;","import Grid from '@material-ui/core/Grid';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport Search from '@material-ui/icons/Search.js';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport styles from '../../styles.js';\nimport translationsSearchStyles from './TranslationsSearch.style.js';\nexport const SelectControl = _ref => {\n  let {\n    items,\n    label,\n    onChange,\n    value\n  } = _ref;\n  /* passes the whole object and not only id */\n  const onChangeEnhanced = event => {\n    onChange(items.find(item => item.id === event.target.value));\n  };\n  return /*#__PURE__*/React.createElement(TextField, {\n    select: true,\n    label: label,\n    value: value,\n    onChange: onChangeEnhanced,\n    fullWidth: true\n  }, items.map(item => /*#__PURE__*/React.createElement(MenuItem, {\n    key: item.id,\n    value: item.id\n  }, item.name)));\n};\nSelectControl.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  })).isRequired,\n  label: PropTypes.string.isRequired,\n  value: PropTypes.string,\n  onChange: PropTypes.func\n};\nSelectControl.defaultProps = {\n  value: '',\n  onChange: () => null\n};\n\n/* to avoid null exceptions */\nconst nonHandler = () => null;\nconst TranslationsSearch = props => {\n  const onChangeForSearchFieldEnhanced = event => {\n    props.onSearchTermChange(event.target.value);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: translationsSearchStyles.container\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true\n  }, /*#__PURE__*/React.createElement(Grid, {\n    id: 'select-object-id',\n    item: true,\n    xs: 12,\n    md: 3,\n    style: styles.formControl\n  }, /*#__PURE__*/React.createElement(SelectControl, {\n    value: props.selectedObjectName,\n    onChange: props.onObjectChange,\n    items: props.objectSelectItems,\n    label: props.objectSelectLabel\n  })), /*#__PURE__*/React.createElement(Grid, {\n    id: 'select-filter-id',\n    item: true,\n    xs: 12,\n    md: 3,\n    style: styles.formControl\n  }, /*#__PURE__*/React.createElement(SelectControl, {\n    value: props.selectedFilterId,\n    onChange: props.onFilterChange,\n    items: props.filterByItems,\n    label: props.filterBySelectLabel\n  })), /*#__PURE__*/React.createElement(Grid, {\n    id: 'select-locale-id',\n    item: true,\n    xs: 12,\n    md: 3,\n    style: styles.formControl\n  }, /*#__PURE__*/React.createElement(SelectControl, {\n    value: props.selectedLocaleId,\n    onChange: props.onLocaleChange,\n    items: props.localeSelectItems,\n    label: props.localeSelectLabel\n  })), /*#__PURE__*/React.createElement(Grid, {\n    id: 'select-search-id',\n    item: true,\n    xs: 12,\n    md: 3,\n    style: styles.formControl\n  }, /*#__PURE__*/React.createElement(TextField, {\n    label: props.searchFieldLabel,\n    type: \"search\",\n    value: props.searchTerm,\n    onChange: onChangeForSearchFieldEnhanced,\n    fullWidth: true,\n    InputProps: {\n      startAdornment: /*#__PURE__*/React.createElement(InputAdornment, {\n        position: \"start\"\n      }, /*#__PURE__*/React.createElement(Search, null))\n    },\n    onKeyPress: props.onSearchKeyPress\n  }))));\n};\nTranslationsSearch.propTypes = {\n  filterByItems: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  })).isRequired,\n  filterBySelectLabel: PropTypes.string.isRequired,\n  localeSelectItems: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  })).isRequired,\n  localeSelectLabel: PropTypes.string.isRequired,\n  objectSelectItems: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired\n  })).isRequired,\n  objectSelectLabel: PropTypes.string.isRequired,\n  searchFieldLabel: PropTypes.string.isRequired,\n  searchTerm: PropTypes.string,\n  selectedFilterId: PropTypes.string,\n  selectedLocaleId: PropTypes.string,\n  selectedObjectName: PropTypes.string,\n  onFilterChange: PropTypes.func,\n  onLocaleChange: PropTypes.func,\n  onObjectChange: PropTypes.func,\n  onSearchKeyPress: PropTypes.func,\n  onSearchTermChange: PropTypes.func\n};\nTranslationsSearch.defaultProps = {\n  selectedLocaleId: null,\n  onLocaleChange: nonHandler,\n  selectedFilterId: null,\n  onFilterChange: nonHandler,\n  selectedObjectName: null,\n  onObjectChange: nonHandler,\n  searchTerm: '',\n  onSearchTermChange: nonHandler,\n  onSearchKeyPress: nonHandler\n};\nexport default TranslationsSearch;","function _defineProperty(e, r, t) { return (r = _toPropertyKey(r)) in e ? Object.defineProperty(e, r, { value: t, enumerable: !0, configurable: !0, writable: !0 }) : e[r] = t, e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == typeof i ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != typeof t || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != typeof i) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nimport { FeedbackSnackbar, CircularProgress } from '@dhis2/d2-ui-core';\nimport PropTypes from 'prop-types';\nimport React, { PureComponent, Fragment } from 'react';\nimport { DEFAULT_LOCALE } from '../../configI18n.js';\nimport { i18nKeys } from '../../i18n.js';\nimport i18n from '../../locales/index.js';\nimport styles from '../../styles.js';\nimport * as FEEDBACK_SNACKBAR_TYPES from '../../utils/feedbackSnackBarTypes.js';\nimport { filterElementsToPager } from '../../utils/pagination.js';\nimport ConfirmationDialog from './ConfirmationDialog.js';\nimport * as PAGE_CONFIGS from './translations.conf.js';\nimport TranslationsList from './TranslationsList.js';\nimport TranslationsSearch from './TranslationsSearch.js';\nconst DEFAULT_SNACKBAR_CONF = {\n  type: FEEDBACK_SNACKBAR_TYPES.NONE,\n  message: '',\n  action: '',\n  onActionClick: null\n};\nconst OVERRIDE_TITLE_AND_SEARCH_PROPS = {\n  programRuleAction: 'content'\n};\n\n/* auxiliar methods */\n/* FIXME move to an external file, SchemaEntry class */\nconst modelToSchemaEntry = model => ({\n  id: model.name,\n  name: model.displayName,\n  translatableProperties: model.getTranslatablePropertiesWithKeys(),\n  apiEndpoint: model.apiEndpoint\n});\n\n/* FIXME move to an external file, Element class */\n/* receives a fat element and translatableProperties to filter translations and translationState for locale */\n/* returns an element only with needed information */\nconst flatElementForPropertiesAndLocale = (element, translatableProperties, localeId) => {\n  const translations = [];\n  let translatedProperties = 0;\n  for (let j = 0; j < translatableProperties.length; j++) {\n    const property = translatableProperties[j];\n    const translationForPropertyAndLocale = element.translations.find(t => t.property === property.translationKey && t.locale === localeId && t.value.trim().length);\n    if (translationForPropertyAndLocale) {\n      translatedProperties += 1;\n      translations.push(translationForPropertyAndLocale);\n    } else {\n      translations.push({\n        property: property.translationKey,\n        locale: localeId,\n        value: ''\n      });\n    }\n  }\n  let translationState = PAGE_CONFIGS.PARTIAL_TRANSLATED_ID;\n  if (translatedProperties === 0) {\n    translationState = PAGE_CONFIGS.UNTRANSLATED_ID;\n  } else if (translatedProperties === translatableProperties.length) {\n    translationState = PAGE_CONFIGS.TRANSLATED_ID;\n  }\n  return {\n    ...element,\n    translations,\n    translationState\n  };\n};\nclass TranslationsPage extends PureComponent {\n  /* configuring initial state */\n  constructor(props) {\n    var _this;\n    /* filtering for translatable models and transforming model for select */\n    super(props);\n    _this = this;\n    /* event handlers */\n    _defineProperty(this, \"onLocaleChange\", selectedLocale => {\n      this.applyNextSearchFilter(this.nextSearchFilterWithChange({\n        selectedLocale,\n        pager: PAGE_CONFIGS.INITIAL_PAGER\n      }));\n    });\n    _defineProperty(this, \"onFilterChange\", selectedFilter => {\n      this.applyNextSearchFilter(this.nextSearchFilterWithChange({\n        selectedFilter,\n        pager: PAGE_CONFIGS.INITIAL_PAGER\n      }));\n    });\n    _defineProperty(this, \"onObjectChange\", object => {\n      if (this.state.unsavedChangesMap.length) {\n        this.setState({\n          showConfirmation: true,\n          nextSelectedObject: object\n        });\n      } else {\n        this.setState({\n          unsavedChangesMap: []\n        });\n        this.fetchElementsForObjectAndUpdateResults(object);\n      }\n    });\n    _defineProperty(this, \"onSearchTermChange\", searchTerm => {\n      this.setState({\n        searchFilter: this.nextSearchFilterWithChange({\n          searchTerm\n        })\n      });\n    });\n    _defineProperty(this, \"onSearchKeyPress\", event => {\n      if (event.key === 'Enter') {\n        const searchTerm = event.target.value;\n        this.applyNextSearchFilter(this.nextSearchFilterWithChange({\n          searchTerm,\n          pager: PAGE_CONFIGS.INITIAL_PAGER\n        }));\n      }\n    });\n    _defineProperty(this, \"onChangeTranslationForObjectAndLocale\", _ref => {\n      let {\n        objectId,\n        localeId,\n        translationKey,\n        value\n      } = _ref;\n      // can reach here without click anywhere\n      this.clearFeedbackSnackbar();\n      this.updateOriginalsOnChange({\n        objectId,\n        localeId,\n        translationKey,\n        value\n      });\n\n      // Update current search results to keep state between pages\n      const searchResults = [...this.state.searchResults];\n      const searchResultsItemInstance = searchResults.find(objectInstance => objectInstance.id === objectId);\n      const translationEntryForSearchResult = searchResultsItemInstance.translations.find(translation => translation.locale === localeId && translation.property === translationKey);\n      if (translationEntryForSearchResult) {\n        translationEntryForSearchResult.value = value;\n      } else {\n        searchResultsItemInstance.translations.push({\n          property: translationKey,\n          locale: localeId,\n          value\n        });\n      }\n      const currentPageResults = [...this.state.currentPageResults];\n      const selectedObjectInstance = currentPageResults.find(objectInstance => objectInstance.id === objectId);\n      if (selectedObjectInstance) {\n        const translationEntry = selectedObjectInstance.translations.find(translation => translation.locale === localeId && translation.property === translationKey);\n        if (translationEntry) {\n          translationEntry.value = value;\n        } else {\n          selectedObjectInstance.translations.push({\n            property: translationKey,\n            locale: localeId,\n            value\n          });\n        }\n      }\n      this.setState({\n        currentPageResults,\n        searchResults\n      });\n    });\n    _defineProperty(this, \"closeConfirmation\", response => {\n      if (response) {\n        this.fetchElementsForObjectAndUpdateResults(this.state.nextSelectedObject);\n        this.setState({\n          unsavedChangesMap: [],\n          nextSelectedObject: null\n        });\n      }\n      this.setState({\n        showConfirmation: false\n      });\n    });\n    _defineProperty(this, \"updateOriginalsOnChange\", _ref2 => {\n      let {\n        objectId,\n        localeId,\n        translationKey,\n        value\n      } = _ref2;\n      // Update original objects to keep state between filters\n      const originals = [...this.state.objectInstances];\n      const originalItemInstance = originals.find(objectInstance => objectInstance.id === objectId);\n      const elementWithState = flatElementForPropertiesAndLocale(originalItemInstance, this.state.searchFilter.selectedObject.translatableProperties, this.state.searchFilter.selectedLocale.id);\n\n      // Keep unsaved translations\n      if (!this.state.unsavedChangesMap.some(unsavedChange => unsavedChange.objectId === objectId && unsavedChange.localeId === localeId)) {\n        this.state.unsavedChangesMap.push({\n          objectId,\n          localeId,\n          originalState: elementWithState.translationState,\n          originalTranslations: elementWithState.translations\n        });\n      }\n      const translationEntryForOriginal = originalItemInstance.translations.find(translation => translation.locale === localeId && translation.property === translationKey);\n      if (translationEntryForOriginal) {\n        translationEntryForOriginal.value = value;\n      } else {\n        originalItemInstance.translations.push({\n          property: translationKey,\n          locale: localeId,\n          value\n        });\n      }\n    });\n    _defineProperty(this, \"saveTranslationForObjectId\", objectId => () => {\n      const api = this.props.d2.Api.getApi();\n      const currentLocale = this.state.searchFilter.selectedLocale.id;\n\n      // Current page results to update after save\n      const currentPageResults = [...this.state.currentPageResults];\n      const selectedObjectIndex = currentPageResults.findIndex(objectInstance => objectInstance.id === objectId);\n      const selectedObjectInstance = currentPageResults[selectedObjectIndex];\n\n      // Current search results to update after save\n      const searchResults = [...this.state.searchResults];\n      const selectedObjectIndexInSearchResults = searchResults.findIndex(objectInstance => objectInstance.id === objectId);\n\n      // All translatins loaded from server to update after save\n      const originalInstances = [...this.state.objectInstances];\n      const selectedOriginalObjectIndex = originalInstances.findIndex(originalInstance => originalInstance.id === objectId);\n\n      // Unsaved changes\n      let unsaved = [...this.state.unsavedChangesMap];\n      if (selectedObjectInstance) {\n        this.startLoading();\n        const translationsUrlForInstance = `${this.state.searchFilter.selectedObject.apiEndpoint}/${objectId}/translations/`;\n\n        // Translations that are being shown and able to be updated\n        // This ones are the translations we want to update\n        const inViewEditedTranslations = selectedObjectInstance.translations.filter(t => t.value.trim().length && t.locale === currentLocale);\n\n        // Process all translations loaded from server and also edited ones (remove empty ones)\n        let allTranslationsForElement = originalInstances.find(element => element.id === objectId).translations;\n        allTranslationsForElement = allTranslationsForElement.filter(t => t.value.trim().length);\n\n        // If edited, we need to replace value with original one and send it to server\n        const allUnsavedForElement = unsaved.filter(element => element.objectId === objectId);\n        const allOriginalTranslationsForUnsaved = allUnsavedForElement.flatMap(element => element.originalTranslations);\n        let filterTranslations = allTranslationsForElement.map(translation => {\n          const existInNotSaved = allOriginalTranslationsForUnsaved.find(t => t.property === translation.property && t.locale === translation.locale);\n          // Keep original value of edited translations for other locales\n          if (existInNotSaved) {\n            if (existInNotSaved.value.trim().length && existInNotSaved.locale !== currentLocale) {\n              return {\n                property: translation.property,\n                locale: translation.locale,\n                value: existInNotSaved.value //Value before edited\n              };\n            }\n            // Keep original value of not edited translations for other locales than selected one\n          } else if (translation.locale !== currentLocale) {\n            return translation;\n          }\n          return null;\n        });\n\n        // Remove translations that have been edited, not saved and do not have original value\n        filterTranslations = filterTranslations.filter(element => element != null);\n        const translations = [...filterTranslations, ...inViewEditedTranslations];\n        api.update(translationsUrlForInstance, {\n          translations: translations\n        }).then(() => {\n          /* open next card and show success message */\n          /* update card state and close it */\n          const flatElement = flatElementForPropertiesAndLocale(selectedObjectInstance, this.state.searchFilter.selectedObject.translatableProperties, currentLocale);\n\n          // Must keep all existing translations for other locales \"flatElementForPropertiesAndLocale\" keeps\n          // only translations for selected locale (used to \"calculate\" current state/style)\n          flatElement.translations = [...allTranslationsForElement];\n          flatElement.open = false;\n          currentPageResults[selectedObjectIndex] = flatElement;\n          searchResults[selectedObjectIndexInSearchResults] = flatElement;\n          originalInstances[selectedOriginalObjectIndex] = flatElement;\n\n          // Remove item from unsavedChanges\n          unsaved = unsaved.filter(element => !(element.objectId === objectId && element.localeId === currentLocale));\n\n          /* open next card */\n          if (selectedObjectIndex < currentPageResults.length - 1) {\n            currentPageResults[selectedObjectIndex + 1].open = true;\n          }\n          this.setState({\n            currentPageResults,\n            searchResults,\n            objectInstances: originalInstances,\n            unsavedChangesMap: unsaved\n          });\n          this.showSuccessMessage(i18n.t(i18nKeys.messages.translationsSaved));\n        }).catch(error => {\n          this.manageError(error);\n        });\n      }\n    });\n    _defineProperty(this, \"goToNextPage\", () => {\n      const nextPager = {\n        ...this.state.searchFilter.pager\n      };\n      nextPager.page += 1;\n      this.setState({\n        searchFilter: this.nextSearchFilterWithChange({\n          pager: nextPager\n        }),\n        currentPageResults: filterElementsToPager(this.state.searchResults, nextPager)\n      });\n    });\n    _defineProperty(this, \"goToPreviousPage\", () => {\n      const nextPager = {\n        ...this.state.searchFilter.pager\n      };\n      nextPager.page -= 1;\n      this.setState({\n        searchFilter: this.nextSearchFilterWithChange({\n          pager: nextPager\n        }),\n        currentPageResults: filterElementsToPager(this.state.searchResults, nextPager)\n      });\n    });\n    _defineProperty(this, \"openCardWithObjectId\", objectId => () => {\n      const currentPageResults = this.state.currentPageResults.map(o => o.id === objectId ? {\n        ...o,\n        open: true\n      } : {\n        ...o,\n        open: false\n      });\n      this.setState({\n        currentPageResults\n      });\n    });\n    _defineProperty(this, \"openCardOnClick\", objectId => () => {\n      this.clearFeedbackSnackbar();\n      this.openCardWithObjectId(objectId);\n    });\n    _defineProperty(this, \"hasUnsavedChanges\", function (objectId) {\n      let locale = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      return () => {\n        const currentLocale = locale ? locale : _this.state.searchFilter.selectedLocale.id;\n        return _this.state.unsavedChangesMap.find(unsavedChange => unsavedChange.objectId === objectId && unsavedChange.localeId === currentLocale);\n      };\n    });\n    /* Server requests */\n    /* fetch instances for new selected object type */\n    _defineProperty(this, \"fetchElementsForObjectAndUpdateResults\", object => {\n      const model = object && object.id ? this.props.d2.models[object.id] : null;\n      if (model) {\n        this.startLoading();\n        model.list({\n          paging: false,\n          fields: 'id,displayName,name,content,translations'\n        }).then(objects => {\n          const objectInstances = objects ? objects.toArray() : [];\n          this.applyNextSearchFilter(this.nextSearchFilterWithChange({\n            selectedObject: object,\n            pager: PAGE_CONFIGS.INITIAL_PAGER\n          }), objectInstances);\n          this.clearFeedbackSnackbar();\n        }).catch(error => {\n          this.manageError(error);\n        });\n      } else {\n        this.manageError();\n      }\n    });\n    _defineProperty(this, \"promiseToFetchLanguages\", () => this.props.d2.Api.getApi().get(PAGE_CONFIGS.LANGUAGES_API_URL));\n    /* Auxiliar functions */\n    /*\n        models are duplicated by singular and plural endpoint\n        check the ones which are translatable and updatable\n    */\n    _defineProperty(this, \"updatableAndTranslatableModelsAsSchemaEntries\", () => {\n      const models = this.props.d2.models || [];\n      const modelKeys = Object.keys(models);\n      const modelNames = new Set([]);\n      const schemas = [];\n      for (let i = 0; i < modelKeys.length; i++) {\n        const modelKey = modelKeys[i];\n        const model = models[modelKey];\n        const modelName = model.name;\n        if (!modelNames.has(modelName) && model.isTranslatable() && this.props.d2.currentUser.canUpdate(model)) {\n          modelNames.add(model.name);\n          schemas.push(modelToSchemaEntry(model));\n        }\n      }\n      schemas.sort((objectA, objectB) => {\n        if (objectA.name > objectB.name) {\n          return 1;\n        } else if (objectB.name > objectA.name) {\n          return -1;\n        }\n        return 0;\n      });\n      return schemas;\n    });\n    _defineProperty(this, \"userLocaleFrom\", locales => {\n      const currentUser = this.props.d2.currentUser;\n      const userLocaleId = currentUser && currentUser.userSettings && currentUser.userSettings.keyUiLocale ? currentUser.userSettings.keyUiLocale : DEFAULT_LOCALE.id;\n      const userLocale = locales.find(locale => locale.id === userLocaleId);\n      return userLocale || (locales.length > 0 ? locales[0] : null);\n    });\n    /* in memory filter */\n    _defineProperty(this, \"applyNextSearchFilter\", function (nextSearchFilter) {\n      let objectInstances = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      const currentObjectInstances = objectInstances || _this.state.objectInstances;\n      const searchFilter = {\n        ...nextSearchFilter\n      };\n      const searchResults = _this.prepareElementsToShowAndFilter(currentObjectInstances, searchFilter);\n\n      /* update pagination */\n      searchFilter.pager.total = searchResults.length;\n      searchFilter.pager.pageCount = Math.ceil(searchFilter.pager.total / searchFilter.pager.pageSize);\n      _this.setState({\n        objectInstances: currentObjectInstances,\n        searchResults,\n        currentPageResults: filterElementsToPager(searchResults, searchFilter.pager),\n        searchFilter\n      });\n    });\n    /* FIXME improve the algorithm -- Lodash could be a good library to use, and divide it to models/classes */\n    _defineProperty(this, \"prepareElementsToShowAndFilter\", (elements, searchFilter) => {\n      if (elements && elements.length) {\n        const currentLocale = searchFilter.selectedLocale.id;\n        const currentFilterId = searchFilter.selectedFilter.id;\n        const currentSearchTerm = searchFilter.searchTerm.trim().toLowerCase();\n        const newElements = [];\n        for (let i = 0; i < elements.length; i++) {\n          var _element, _element$trim, _element$trim$toLower, _OVERRIDE_TITLE_AND_S, _searchFilter$selecte;\n          const element = elements[i];\n          if ((_element = element[(_OVERRIDE_TITLE_AND_S = OVERRIDE_TITLE_AND_SEARCH_PROPS[(_searchFilter$selecte = searchFilter.selectedObject) === null || _searchFilter$selecte === void 0 ? void 0 : _searchFilter$selecte.id]) !== null && _OVERRIDE_TITLE_AND_S !== void 0 ? _OVERRIDE_TITLE_AND_S : 'name']) !== null && _element !== void 0 && (_element$trim = _element.trim()) !== null && _element$trim !== void 0 && (_element$trim$toLower = _element$trim.toLowerCase()) !== null && _element$trim$toLower !== void 0 && _element$trim$toLower.includes(currentSearchTerm)) {\n            const flatElement = flatElementForPropertiesAndLocale(element, searchFilter.selectedObject.translatableProperties, currentLocale);\n            const state = this.hasUnsavedChanges(element.id, currentLocale)() ? this.hasUnsavedChanges(element.id, currentLocale)().originalState : flatElement.translationState;\n            if (currentFilterId === PAGE_CONFIGS.ALL_ID || state === currentFilterId) {\n              newElements.push(flatElement);\n            }\n          }\n        }\n        return newElements;\n      }\n      return [];\n    });\n    _defineProperty(this, \"nextSearchFilterWithChange\", searchFilterChange => ({\n      ...this.state.searchFilter,\n      ...searchFilterChange\n    }));\n    _defineProperty(this, \"buildLanguageSelectItemsArrayFromApiResponse\", languagesResponse => {\n      const locales = languagesResponse ? languagesResponse.map(language => ({\n        id: language.locale,\n        name: language.name === language.displayName ? language.name : `${language.name}  ${language.displayName}`\n      })) : [];\n      return locales.length > 0 ? locales : PAGE_CONFIGS.INITIAL_LOCALES;\n    });\n    _defineProperty(this, \"startLoading\", () => {\n      this.setState({\n        showSnackbar: true,\n        snackbarConf: {\n          type: FEEDBACK_SNACKBAR_TYPES.LOADING\n        }\n      });\n    });\n    _defineProperty(this, \"showSuccessMessage\", message => {\n      this.setState({\n        showSnackbar: true,\n        snackbarConf: {\n          type: FEEDBACK_SNACKBAR_TYPES.SUCCESS,\n          message\n        }\n      });\n    });\n    _defineProperty(this, \"showErrorMessage\", message => {\n      this.setState({\n        showSnackbar: true,\n        snackbarConf: {\n          type: FEEDBACK_SNACKBAR_TYPES.ERROR,\n          message\n        }\n      });\n    });\n    _defineProperty(this, \"manageError\", error => {\n      const messageError = error && error.message ? error.message : i18n.t(i18nKeys.messages.unexpectedError);\n      this.showErrorMessage(messageError);\n    });\n    _defineProperty(this, \"clearFeedbackSnackbar\", () => {\n      this.setState({\n        showSnackbar: false,\n        snackbarConf: DEFAULT_SNACKBAR_CONF\n      });\n    });\n    _defineProperty(this, \"isLoading\", () => this.state.showSnackbar && this.state.snackbarConf.type === FEEDBACK_SNACKBAR_TYPES.LOADING);\n    _defineProperty(this, \"isSearchFilterValid\", () => this.state.searchFilter.selectedLocale && this.state.searchFilter.selectedLocale.id && this.state.searchFilter.selectedFilter && this.state.searchFilter.selectedFilter.id && this.state.searchFilter.selectedObject && this.state.searchFilter.selectedObject.id);\n    const schemaEntries = this.updatableAndTranslatableModelsAsSchemaEntries();\n    this.state = {\n      showConfirmation: false,\n      showSnackbar: false,\n      snackbarConf: DEFAULT_SNACKBAR_CONF,\n      localeSelectItems: PAGE_CONFIGS.INITIAL_LOCALES,\n      filterByItems: PAGE_CONFIGS.FILTER_BY_ITEMS,\n      objectSelectItems: schemaEntries,\n      searchFilter: {\n        pager: PAGE_CONFIGS.INITIAL_PAGER,\n        selectedLocale: PAGE_CONFIGS.INITIAL_LOCALES.length > 0 ? PAGE_CONFIGS.INITIAL_LOCALES[0] : null,\n        selectedObject: schemaEntries.length > 0 ? schemaEntries[0] : null,\n        selectedFilter: PAGE_CONFIGS.ALL_ITEM,\n        searchTerm: ''\n      },\n      /* all instances of selected object type, fetched from server */\n      objectInstances: [],\n      /* objects filtered for current filter */\n      searchResults: [],\n      /* object filtered for current page */\n      currentPageResults: [],\n      /* changes array - id, locale, state before save, translations before save*/\n      unsavedChangesMap: [],\n      nextSelectedObject: null\n    };\n  }\n\n  /* componet lifestyle methods */\n  componentDidMount() {\n    this.startLoading();\n\n    /* Fetch languages and objects for Filter component */\n    this.promiseToFetchLanguages().then(response => {\n      const localeSelectItems = this.buildLanguageSelectItemsArrayFromApiResponse(response);\n      this.setState({\n        localeSelectItems\n      });\n      this.applyNextSearchFilter(this.nextSearchFilterWithChange({\n        selectedLocale: this.userLocaleFrom(localeSelectItems)\n      }));\n\n      /* FIXME risk to problems because setState is async -- use function setState */\n      this.fetchElementsForObjectAndUpdateResults(this.state.searchFilter.selectedObject);\n      this.clearFeedbackSnackbar();\n    }).catch(error => {\n      this.manageError(error);\n    });\n  }\n  render() {\n    var _OVERRIDE_TITLE_AND_S2, _this$state, _this$state$searchFil, _this$state$searchFil2;\n    /* Feedback Snackbar */\n    const feedbackElement = this.isLoading() ? /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.feedbackSnackBar\n    }, /*#__PURE__*/React.createElement(CircularProgress, null)) : /*#__PURE__*/React.createElement(FeedbackSnackbar, {\n      onClose: this.clearFeedbackSnackbar,\n      show: this.state.showSnackbar,\n      conf: this.state.snackbarConf\n    });\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(TranslationsSearch, {\n      localeSelectLabel: i18n.t(i18nKeys.searchToolbar.selects.locales.label),\n      localeSelectItems: this.state.localeSelectItems,\n      selectedLocaleId: this.state.searchFilter.selectedLocale ? this.state.searchFilter.selectedLocale.id : null,\n      onLocaleChange: this.onLocaleChange,\n      filterBySelectLabel: i18n.t(i18nKeys.searchToolbar.selects.filterBy.label),\n      filterByItems: this.state.filterByItems,\n      selectedFilterId: this.state.searchFilter.selectedFilter.id,\n      onFilterChange: this.onFilterChange,\n      objectSelectLabel: i18n.t(i18nKeys.searchToolbar.selects.objects.label),\n      objectSelectItems: this.state.objectSelectItems,\n      selectedObjectName: this.state.searchFilter.selectedObject ? this.state.searchFilter.selectedObject.id : null,\n      onObjectChange: this.onObjectChange,\n      searchFieldLabel: i18n.t(i18nKeys.searchToolbar.searchTextField.label),\n      searchTerm: this.state.searchFilter.searchTerm,\n      onSearchTermChange: this.onSearchTermChange,\n      onSearchKeyPress: this.onSearchKeyPress\n    }), /*#__PURE__*/React.createElement(TranslationsList, {\n      localeId: this.state.searchFilter.selectedLocale.id,\n      objects: this.state.currentPageResults,\n      translatableProperties: this.state.searchFilter.selectedObject.translatableProperties,\n      pager: this.state.searchFilter.pager,\n      goToNextPage: this.goToNextPage,\n      goToPreviousPage: this.goToPreviousPage,\n      onChangeTranslationForObjectAndLocale: this.onChangeTranslationForObjectAndLocale,\n      saveTranslations: this.saveTranslationForObjectId,\n      openCard: this.openCardWithObjectId,\n      openCardOnClick: this.openCardOnClick,\n      hasUnsavedChanges: this.hasUnsavedChanges,\n      clearFeedback: this.clearFeedbackSnackbar,\n      cardTitleProperty: (_OVERRIDE_TITLE_AND_S2 = OVERRIDE_TITLE_AND_SEARCH_PROPS[(_this$state = this.state) === null || _this$state === void 0 ? void 0 : (_this$state$searchFil = _this$state.searchFilter) === null || _this$state$searchFil === void 0 ? void 0 : (_this$state$searchFil2 = _this$state$searchFil.selectedObject) === null || _this$state$searchFil2 === void 0 ? void 0 : _this$state$searchFil2.id]) !== null && _OVERRIDE_TITLE_AND_S2 !== void 0 ? _OVERRIDE_TITLE_AND_S2 : 'name'\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"feedback-snackbar\"\n    }, feedbackElement), /*#__PURE__*/React.createElement(ConfirmationDialog, {\n      open: this.state.showConfirmation,\n      closeConfirmation: this.closeConfirmation\n    }));\n  }\n}\n_defineProperty(TranslationsPage, \"propTypes\", {\n  d2: PropTypes.object.isRequired\n});\nexport default TranslationsPage;","import D2UIApp from '@dhis2/d2-ui-app';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport TranslationsPage from '../pages/Translations/index.js';\nimport styles from '../styles.js';\nconst App = _ref => {\n  let {\n    d2\n  } = _ref;\n  return /*#__PURE__*/React.createElement(D2UIApp, null, /*#__PURE__*/React.createElement(\"div\", {\n    style: styles.contentArea\n  }, /*#__PURE__*/React.createElement(TranslationsPage, {\n    d2: d2\n  })));\n};\nApp.propTypes = {\n  d2: PropTypes.object.isRequired\n};\nexport default App;","import { useD2 } from '@dhis2/app-runtime-adapter-d2';\nimport React from 'react';\nimport App from './components/App.js';\nimport 'material-design-icons-iconfont';\nconst AppWrapper = () => {\n  const {\n    d2\n  } = useD2();\n  if (!d2) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(App, {\n    d2: d2\n  });\n};\nexport default AppWrapper;"],"names":["i18nKeys","searchToolbar","selects","objects","label","locales","filterBy","all","translated","untranslated","partialTranslated","searchTextField","translationForm","name","shortName","description","formName","numeratorDescription","denominatorDescription","fromToName","toFromName","instruction","incidentDateLabel","enrollmentDateLabel","executionDateLabel","dueDateLabel","content","actionButton","domainAxisLabel","rangeAxisLabel","targetLineLabel","subtitle","title","baseLineLabel","subjectTemplate","messageTemplate","messages","unsavedChanges","unexpectedError","translationsSaved","invalidForm","btns","keepEditing","discard","unsavedChangesTitle","d2UiComponents","settings","app_search_placeholder","profile","account","help","log_out","about_dhis2","manage_my_apps","no_results_found","interpretations","namespace","i18n","addResources","arTranslations","ar_IQTranslations","bnTranslations","ckbTranslations","csTranslations","daTranslations","enTranslations","esTranslations","es_419Translations","frTranslations","idTranslations","kmTranslations","loTranslations","myTranslations","nbTranslations","neTranslations","nlTranslations","orTranslations","prsTranslations","psTranslations","ptTranslations","pt_BRTranslations","roTranslations","ruTranslations","siTranslations","svTranslations","tetTranslations","tgTranslations","ukTranslations","urTranslations","uz_CyrlTranslations","uz_LatnTranslations","uz_UZ_CyrlTranslations","uz_UZ_LatnTranslations","viTranslations","zhTranslations","zh_CNTranslations","DEFAULT_LOCALE","id","LATERAL_PADDING_FOR_MAIN_CONTAINERS","contentArea","maxWidth","feedbackSnackBar","position","top","left","transform","zIndex","formControl","paddingRight","cardContainer","outline","paddingLeft","paddingTop","paddingBottom","marginBottom","actionBtns","marginLeft","LOADING","calculatePageValue","pager","pageSize","total","pageCount","page","pageCalculationValue","filterElementsToPager","elements","_ref","pageElements","slice","length","open","hasNextPage","hasPreviousPage","props","StyledDialog","withStyles","root","margin","DialogActions","React","Dialog","DialogTitle","t","DialogContent","DialogContentText","Button","style","styles","onClick","closeConfirmation","raised","color","autoFocus","TRANSLATED_ID","UNTRANSLATED_ID","PARTIAL_TRANSLATED_ID","ALL_ITEM","TRANSLATED_ITEM","UNTRANSLATED_ITEM","PARTIAL_TRANSLATED_ITEM","FILTER_BY_ITEMS","INITIAL_LOCALES","INITIAL_PAGER","colors","actionsContainer","header","cursor","textTransform","icon","textAlign","translationValueOfObjectForLocaleAndTranslationKey","object","localeId","translationKey","selectedTranslation","translations","find","translation","locale","property","value","TranslationCard","onChangeTranslationForObjectAndLocale","hasUnsavedChanges","checkSave","getState","originalState","translationState","saveTranslationsOnKeyPress","event","key","ctrlKey","saveTranslations","Paper","tabIndex","onFocus","openCard","Grid","translationCardStyles","openCardOnClick","container","alignItems","item","xs","cardTitleProperty","Done","Fragment","translatableProperties","map","index","_i18nKeys$translation","md","TextField","fullWidth","type","onChange","objectId","target","onKeyDown","clearFeedback","onBlur","disabled","defaultProps","noResultsContainer","marginTop","pagination","PaginationBuilder","goToNextPage","goToPreviousPage","Pagination","PAGINATION_HELPER","onNextPageClick","onPreviousPageClick","currentlyShown","NoResults","translationsListStyles","TranslationsList","backgroundColor","SelectControl","items","select","MenuItem","nonHandler","TranslationsSearch","translationsSearchStyles","selectedObjectName","onObjectChange","objectSelectItems","objectSelectLabel","selectedFilterId","onFilterChange","filterByItems","filterBySelectLabel","selectedLocaleId","onLocaleChange","localeSelectItems","localeSelectLabel","searchFieldLabel","searchTerm","onSearchTermChange","InputProps","startAdornment","InputAdornment","Search","onKeyPress","onSearchKeyPress","_defineProperty","e","r","i","Symbol","toPrimitive","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","DEFAULT_SNACKBAR_CONF","message","action","onActionClick","OVERRIDE_TITLE_AND_SEARCH_PROPS","programRuleAction","modelToSchemaEntry","model","displayName","getTranslatablePropertiesWithKeys","apiEndpoint","flatElementForPropertiesAndLocale","element","translatedProperties","j","translationForPropertyAndLocale","trim","push","PAGE_CONFIGS","TranslationsPage","PureComponent","constructor","_this","super","this","selectedLocale","applyNextSearchFilter","nextSearchFilterWithChange","selectedFilter","state","unsavedChangesMap","setState","showConfirmation","nextSelectedObject","fetchElementsForObjectAndUpdateResults","searchFilter","clearFeedbackSnackbar","updateOriginalsOnChange","searchResults","searchResultsItemInstance","objectInstance","translationEntryForSearchResult","currentPageResults","selectedObjectInstance","translationEntry","response","_ref2","originalItemInstance","objectInstances","elementWithState","selectedObject","some","unsavedChange","originalTranslations","translationEntryForOriginal","api","d2","Api","getApi","currentLocale","selectedObjectIndex","findIndex","selectedObjectIndexInSearchResults","originalInstances","selectedOriginalObjectIndex","originalInstance","unsaved","startLoading","translationsUrlForInstance","inViewEditedTranslations","filter","allTranslationsForElement","allOriginalTranslationsForUnsaved","flatMap","filterTranslations","existInNotSaved","update","then","flatElement","showSuccessMessage","catch","error","manageError","nextPager","o","openCardWithObjectId","arguments","undefined","models","list","paging","fields","toArray","get","modelKeys","keys","modelNames","Set","schemas","modelName","has","isTranslatable","currentUser","canUpdate","add","sort","objectA","objectB","userLocaleId","userSettings","keyUiLocale","nextSearchFilter","currentObjectInstances","prepareElementsToShowAndFilter","Math","ceil","currentFilterId","currentSearchTerm","toLowerCase","newElements","_element","_element$trim","_element$trim$toLower","_OVERRIDE_TITLE_AND_S","_searchFilter$selecte","includes","searchFilterChange","languagesResponse","language","showSnackbar","snackbarConf","FEEDBACK_SNACKBAR_TYPES","messageError","showErrorMessage","schemaEntries","updatableAndTranslatableModelsAsSchemaEntries","componentDidMount","promiseToFetchLanguages","buildLanguageSelectItemsArrayFromApiResponse","userLocaleFrom","render","_OVERRIDE_TITLE_AND_S2","_this$state","_this$state$searchFil","_this$state$searchFil2","feedbackElement","isLoading","CircularProgress","FeedbackSnackbar","onClose","show","conf","saveTranslationForObjectId","ConfirmationDialog","PropTypes","isRequired","D2UIApp","AppWrapper","useD2","App"],"sourceRoot":""}